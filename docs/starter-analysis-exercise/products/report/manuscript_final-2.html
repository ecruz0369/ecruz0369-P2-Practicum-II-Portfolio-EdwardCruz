<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Edward Cruz, Jr., Leonel G. Salazar, Amelia Tristan, Mojisola Popoola">
<meta name="dcterms.date" content="2024-08-02">

<title>Edward(Eddie) Cruz,Jr.&nbsp;Data Analysis Portfolio - Honey Bee Colonies Impacted by Varroa, American Foulbrood and Global Warming</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../../../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="../../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="../../../site_libs/viz-1.8.2/viz.js"></script>

<link href="../../../site_libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">

<script src="../../../site_libs/grViz-binding-1.0.11/grViz.js"></script>



<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Edward(Eddie) Cruz,Jr.&nbsp;Data Analysis Portfolio</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../aboutme.html"> 
<span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-projects" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Projects</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-projects">    
        <li>
    <a class="dropdown-item" href="../../../starter-analysis-exercise/products/report/manuscript_final-2.html">
 <span class="dropdown-text">Group10 Analysis Exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../coding-exercise/coding-exercise.html">
 <span class="dropdown-text">R Coding Exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../data-exercise/data-exercise.html">
 <span class="dropdown-text">Data Exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../cdcdata-exercise/cdcdata-exercise.html">
 <span class="dropdown-text">CDC Data Exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../presentation-exercise/presentation-exercise.html">
 <span class="dropdown-text">Presentation Exercise</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../tidytuesday-exercise/tidytuesday-exercise.html">
 <span class="dropdown-text">Tidy Tuesday Exercise</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/ecruz0369/ecruz0369-P2-Practicum-II-Portfolio-EdwardCruz"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Honey Bee Colonies Impacted by Varroa, American Foulbrood and Global Warming</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Edward Cruz, Jr., Leonel G. Salazar, Amelia Tristan, Mojisola Popoola </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 2, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="summaryabstract" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Summary/Abstract</h1>
<p>Group Ten is conducting a comprehensive analysis of historical data from various public agencies to evaluate the impact of Varroa mites, American Foulbrood, and global warming on hive losses in the United States.This research utilizes extensive datasets from the National Agricultural Statistics Service, the Agricultural Statistics Board, and the United States Department of Agriculture (USDA), encompassing multiple years of data. The data highlights the topic on hive losses attributed to mites, bacterial infections, and environmental factors related to global warming. Through advanced data visualization techniques in R, we aim to demonstrate and validate the detrimental effects of these factors on honeybee colonies, highlighting the consequent implications for honey production and broader food security. <strong><em>Dennis and Kemp’s study on honey bee hive collapse <span class="citation" data-cites="hivecollapse">(<a href="#ref-hivecollapse" role="doc-biblioref">Dennis &amp; Kemp, 2016</a>)</span> provides important insights into Allee effects and ecological resilience.</em></strong> <strong><em>Warmer climate may impact bees<span class="citation" data-cites="2024warmer">(<a href="#ref-2024warmer" role="doc-biblioref">Rajagopalan, DeGrandi-Hoffman, Pruett, et al., 2024</a>)</span></em></strong></p>
<div style="page-break-after: always;"></div>
</section>
<section id="introduction" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Introduction</h1>
<p>Honeybees have served as nature’s pollinators for centuries. With their relationship with humans documented as far back as ancient Egyptian and Hindu cultures. Historically, humans have maintained beehives and utilized honey for its medicinal properties in various civilizations, including the Egyptians, Assyrians, Chinese, Greeks, and Romans. Honey’s natural antibacterial qualities made it a valuable treatment for wounds. This was a practice continued by Romans and Russians during World War I. Honeybees and other pollinators are essential for food production and nutritional security. But even though they face numerous survival challenges Varroa mites pose a significant threat to bee colonies. These tiny red-brown parasites live on adult honeybees and reproduce on larvae and pupae. Another major threat is American Foulbrood Disease (AFB). This is caused by the bacterium Paenibacillus larvae, which is fatal to honeybee larvae and requires incineration of infected hives to prevent its spread. The impact of climate change on honeybee colony losses is a growing area of research. While correlations have been found between higher winter temperatures and increased colony losses, the effects of warmer autumn and winter temperatures on colony dynamics and survival require further investigation. <strong><em>Dennis and Kemp’s study on honey bee hive collapse <span class="citation" data-cites="hivecollapse">(<a href="#ref-hivecollapse" role="doc-biblioref">Dennis &amp; Kemp, 2016</a>)</span> provides important insights into Allee effects and ecological resilience.</em></strong> <span class="citation" data-cites="usda_honey_bees usda_nass">(<a href="#ref-usda_nass" role="doc-biblioref">USDA - National Agricultural Statistics Service, n.d.</a>; <a href="#ref-usda_honey_bees" role="doc-biblioref">USDA Economics, Statistics and Market Information System, n.d.-a</a>)</span>***</p>
<p><strong><em>Warmer climate may impact bees<span class="citation" data-cites="2024warmer">(<a href="#ref-2024warmer" role="doc-biblioref">Rajagopalan et al., 2024</a>)</span></em></strong></p>
<section id="composition-of-honey" class="level3" data-number="2.0.1">
<h3 data-number="2.0.1" class="anchored" data-anchor-id="composition-of-honey"><span class="header-section-number">2.0.1</span> Composition of Honey</h3>
<p>The first image is a pie chart that illustrates the composition of honey by percentage. The main components are:</p>
<ul>
<li><strong>Fructose</strong>: 38.5%</li>
<li><strong>Glucose</strong>: 31%</li>
<li><strong>Water</strong>: 17.1%</li>
<li><strong>Maltose</strong>: 7.2%</li>
<li><strong>Other components</strong>:
<ul>
<li>Sucrose: 1.5%</li>
<li>Minerals, Vitamins, Enzymes: 0.5%</li>
<li>Trisaccharides, Carbohydrates: 4.2%</li>
</ul></li>
</ul>
<p>This composition indicates that honey is primarily made up of sugars, specifically fructose and glucose, with water being the third major component. The presence of minerals, vitamins, and enzymes, though in smaller amounts, adds nutritional value to honey. This detailed breakdown underscores honey’s role as a natural sweetener with additional health benefits beyond its primary carbohydrate content.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="manuscript_final-2_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="spread-of-varroa-mites" class="level3" data-number="2.0.2">
<h3 data-number="2.0.2" class="anchored" data-anchor-id="spread-of-varroa-mites"><span class="header-section-number">2.0.2</span> Spread of Varroa Mites</h3>
<p>The second image is a map illustrating the spread of Varroa mites in the United States from 1986 to 1995. The map uses different colors to represent the year of the first appearance of Varroa mites in each state:</p>
<ul>
<li><strong>1986 - 1987</strong>: Red</li>
<li><strong>1988 - 1989</strong>: Yellow</li>
<li><strong>1990 - 1991</strong>: Green</li>
<li><strong>1992 - 1993</strong>: Blue</li>
<li><strong>1994 - 1995</strong>: Grey</li>
<li><strong>NA</strong>: States where data is not available</li>
</ul>
<p>The map reveals the progressive spread of Varroa mites from the mid-1980s to the mid-1990s, affecting bee colonies across the country. The earliest appearances were concentrated in specific regions and gradually spread to more states over time. This visual representation highlights the increasing geographical distribution of Varroa mites and underscores the growing challenge they pose to beekeeping and agricultural industries in the United States.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="manuscript_final-2_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><span class="citation" data-cites="varroamap">(<a href="#ref-varroamap" role="doc-biblioref">sdns6mchl4, 2016</a>)</span> <strong><em>Varroa Map of infestation periods</em></strong></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="manuscript_final-2_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><span class="citation" data-cites="epa_climate">(<a href="#ref-epa_climate" role="doc-biblioref">U.S. Environmental Protection Agency, 2024</a>)</span> <strong><em>Global warming trends from 1900-2024</em></strong></p>
<p><strong><em>Spread of Varroa Mite by Year of First Apperance <span class="citation" data-cites="varroamap">(<a href="#ref-varroamap" role="doc-biblioref">sdns6mchl4, 2016</a>)</span></em></strong> Written By:sdns6mchl4. (2016, February 24). Varroa mite spread in the United States. Beesource Beekeeping Forums. https://www.beesource.com/threads/varroa-mite-spread-in-the-united-states.365462/</p>
<p>## General Background Information</p>
</section>
<section id="uncapped-honey-floresvilletexas-hive" class="level3" data-number="2.0.3">
<h3 data-number="2.0.3" class="anchored" data-anchor-id="uncapped-honey-floresvilletexas-hive"><span class="header-section-number">2.0.3</span> <strong>Uncapped Honey Floresville,Texas Hive</strong></h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../../..\images/Bee Frame 2024.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="capped-honey-one-month-later-same-hive-frame--italian-bees-floresville-texas" class="level3" data-number="2.0.4">
<h3 data-number="2.0.4" class="anchored" data-anchor-id="capped-honey-one-month-later-same-hive-frame--italian-bees-floresville-texas"><span class="header-section-number">2.0.4</span> <strong>Capped Honey one Month Later same hive frame- Italian bees Floresville, Texas</strong></h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../../..\images/Bee Frame Capped Honey.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="description-of-data-and-data-source" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="description-of-data-and-data-source"><span class="header-section-number">2.1</span> Description of data and data source</h2>
<p>Bee colonies maintained by beekeepers are considered livestock by the USDA due to their ability to produce honey, a consumable food item, and their essential role in assisting farmers with pollination crop seasons. Given the importance of bee colonies in agriculture, it was logical to source data from the following two authoritative websites: 1. USDA National Agricultural Statistics Service (NASS): This site provides comprehensive agricultural data, including statistics on honey production and colony health. 2. Bee Informed Partnership: This site offers detailed insights and research on bee colony management and health, contributing valuable information on the status and trends of bee populations. <span class="citation" data-cites="usda_honey_bees">(<a href="#ref-usda_honey_bees" role="doc-biblioref">USDA Economics, Statistics and Market Information System, n.d.-a</a>)</span></p>
<p>Index Catalog // USDA Economics, Statistics and Market Information System. (n.d.-a). https://usda.library.cornell.edu/catalog?f%5Bkeywords_sim%5D%5B%5D=honey+bees&amp;locale=en<br>
USDA - National Agricultural Statistics Service - Surveys - honey bee surveys and reports. (n.d.). https://www.nass.usda.gov/Surveys/Guide_to_NASS_Surveys/Bee_and_Honey/</p>
</section>
<section id="questionshypotheses-to-be-addressed" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="questionshypotheses-to-be-addressed"><span class="header-section-number">2.2</span> Questions/Hypotheses to be addressed</h2>
<p>Hypothesis: “The negative impacts of mites, bacterium, and global warming have detrimental effects on honeybee colonies in the United States and Texas, which in turn will lead to a decline in honey production and negatively impact food production.” This hypothesis can be tested and validated through a visualization of outcomes using R, demonstrating the relationship between these factors and their effects on honeybee colonies.</p>
<section id="bacterium-infection-foul-brood" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="bacterium-infection-foul-brood"><span class="header-section-number">2.2.1</span> <strong>Bacterium Infection Foul Brood</strong></h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../../..\images/American-Foul-Brood-Comb-1024x768-1.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="dead-bees-resulting-from-extreme-heat-found-in-hive" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="dead-bees-resulting-from-extreme-heat-found-in-hive"><span class="header-section-number">2.2.2</span> <strong>Dead bees resulting from extreme heat found in hive</strong></h3>
<p><img src="../../..\images/dead-bees-hive-colony-collapse-600nw-2289939105.webp" class="img-fluid"></p>
<div style="page-break-after: always;"></div>
</section>
</section>
</section>
<section id="methods" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Methods</h1>
<p><em>Describe your methods. That should describe the data, the cleaning processes, and the analysis approaches. You might want to provide a shorter description here and all the details in the supplement.</em></p>
<section id="schematic-of-workflow" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="schematic-of-workflow"><span class="header-section-number">3.1</span> Schematic of workflow</h2>
<div class="cell">
<div class="cell-output-display">
<div class="grViz html-widget html-fill-item" id="htmlwidget-bf63386c108771267356" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-bf63386c108771267356">{"x":{"diagram":"\n  digraph Data_Analysis_Flowchart {\n    graph [layout = dot, rankdir = LR, label = \"Workflow Schematic\", fontsize = 45, labelloc = \"t\"]\n\n    node [style = filled, fontsize = 30, width = 2, height = 2]\n\n    Define_Objectives [label = \"Define Objectives\", shape = oval, color = lightblue]\n    Collect_Data [label = \"Collect Data\", shape = box, color = lightgrey]\n    Clean_Data [label = \"Clean Data\", shape = ellipse, color = lightyellow]\n    Analyze_Data [label = \"Analyze Data\", shape = diamond, color = lightcoral]\n    Interpret_Results [label = \"Interpret Results\", shape = trapezium, color = lightgrey]\n    Visualize_Data [label = \"Visualize Data\", shape = parallelogram, color = lightpink]\n    Compile_Report [label = \"Compile Report\", shape = house, color = lightcyan]\n    Review_Revise [label = \"Review & Revise\", shape = invhouse, color = lightgoldenrodyellow]\n    Present_Report [label = \"Present Report\", shape = hexagon, color = lightseagreen]\n\n    Define_Objectives -> Collect_Data\n    Collect_Data -> Clean_Data\n    Clean_Data -> Analyze_Data\n    Analyze_Data -> Interpret_Results\n    Interpret_Results -> Visualize_Data\n    Visualize_Data -> Compile_Report\n    Compile_Report -> Review_Revise\n    Review_Revise -> Present_Report\n  }\n","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="data-aquisition" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="data-aquisition"><span class="header-section-number">3.2</span> Data aquisition</h2>
<p>Data was derived from the United States Department of Agriculture (USDA) website, which permits data sets to be downloaded in CSV(comma-separated values) format.</p>
</section>
<section id="data-import-and-cleaning" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="data-import-and-cleaning"><span class="header-section-number">3.3</span> Data import and cleaning</h2>
<p>We decided to clean out our data from a few different datasets. We had to remove blank spaces and columns that were not pertinent to our analysis. We then filtered out other observations that did not directly deal with the data we are exploring. We are looking for cause of death to bee colonies and how they are affected by mites and climate change so we wanted to single out data that represented the losses so we can explore the different states by year and determine how the colonies were affected.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "C:/Users/ecruz/OneDrive/Documents/UTSA - Data Science Program/Semester Classes/Practicum II Repository/P2-Practicum-II-Portfolio-EdwardCruz"</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   718 obs. of  6 variables:
 $ Year      : int  2017 2017 2017 2017 2017 2017 2017 2017 2017 2017 ...
 $ Period    : chr  "JAN THRU MAR" "JAN THRU MAR" "JAN THRU MAR" "JAN THRU MAR" ...
 $ State     : chr  "ALABAMA" "ARIZONA" "ARKANSAS" "CALIFORNIA" ...
 $ State.ANSI: int  1 4 5 6 8 9 12 13 15 16 ...
 $ Data.Item : chr  "LOSS, COLONY COLLAPSE DISORDER" "LOSS, COLONY COLLAPSE DISORDER" "LOSS, COLONY COLLAPSE DISORDER" "LOSS, COLONY COLLAPSE DISORDER" ...
 $ Value     : chr  "250" "2,600" "180" "19,000" ...</code></pre>
</div>
</div>
<section id="boxplot-of-value-by-year-and-data-item" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="boxplot-of-value-by-year-and-data-item"><span class="header-section-number">3.3.1</span> Boxplot of Value by Year and Data Item</h3>
<p>The third image is a boxplot comparing the values for “LOSS, COLONY COLLAPSE DISORDER” and “LOSS, DEADOUT” from 2015 to 2017. The boxplot provides insights into: - The central tendency and spread of losses due to both disorders. - Presence of outliers indicates that there are occasional, significantly higher losses. - Comparative analysis shows that both types of losses have varying distributions each year.</p>
<p>This indicates that while both types of losses are present each year, the magnitude and frequency of extreme loss events can differ, suggesting variability in the factors contributing to colony losses.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   718 obs. of  6 variables:
 $ Year      : int  2017 2017 2017 2017 2017 2017 2017 2017 2017 2017 ...
 $ Period    : chr  "JAN THRU MAR" "JAN THRU MAR" "JAN THRU MAR" "JAN THRU MAR" ...
 $ State     : chr  "ALABAMA" "ARIZONA" "ARKANSAS" "CALIFORNIA" ...
 $ State.ANSI: int  1 4 5 6 8 9 12 13 15 16 ...
 $ Data.Item : chr  "LOSS, COLONY COLLAPSE DISORDER" "LOSS, COLONY COLLAPSE DISORDER" "LOSS, COLONY COLLAPSE DISORDER" "LOSS, COLONY COLLAPSE DISORDER" ...
 $ Value     : chr  "250" "2,600" "180" "19,000" ...</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="manuscript_final-2_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="scatterplot-of-value-by-state-ansi" class="level3" data-number="3.3.2">
<h3 data-number="3.3.2" class="anchored" data-anchor-id="scatterplot-of-value-by-state-ansi"><span class="header-section-number">3.3.2</span> Scatterplot of Value by State ANSI</h3>
<p>The fourth image is a scatterplot showing values for different states (ANSI coded) across the years 2015 to 2017. Key points include: - Each color represents a different year (2015: Red, 2016: Green, 2017: Blue). - The scatterplot reveals the distribution of values across states and highlights any trends or patterns over the three years.</p>
<p>This scatterplot indicates that while some states experience consistently high or low values, others show significant variability year over year. This could suggest regional differences in factors affecting bee colony health.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="manuscript_final-2_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="boxplot-of-value-by-period-and-data-item" class="level3" data-number="3.3.3">
<h3 data-number="3.3.3" class="anchored" data-anchor-id="boxplot-of-value-by-period-and-data-item"><span class="header-section-number">3.3.3</span> Boxplot of Value by Period and Data Item</h3>
<p>The fifth image is a boxplot comparing the values for “LOSS, COLONY COLLAPSE DISORDER” and “LOSS, DEADOUT” across different periods of the year: - <strong>APR THRU JUN</strong> - <strong>JAN THRU MAR</strong> - <strong>JUL THRU SEP</strong> - <strong>OCT THRU DEC</strong></p>
<p>Key insights include: - Seasonal trends in colony losses, with some periods showing higher median losses or more variability. - Outliers indicate extreme loss events occurring in specific periods.</p>
<p>This seasonal analysis suggests that certain times of the year are more prone to higher losses, potentially due to environmental factors, resource availability, or management practices.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="manuscript_final-2_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="boxplot-of-value-by-period-and-data-item-1" class="level3" data-number="3.3.4">
<h3 data-number="3.3.4" class="anchored" data-anchor-id="boxplot-of-value-by-period-and-data-item-1"><span class="header-section-number">3.3.4</span> Boxplot of Value by Period and Data Item</h3>
<p>The fifth image is a boxplot comparing the values for “LOSS, COLONY COLLAPSE DISORDER” and “LOSS, DEADOUT” across different periods of the year: - <strong>APR THRU JUN</strong> - <strong>JAN THRU MAR</strong> - <strong>JUL THRU SEP</strong> - <strong>OCT THRU DEC</strong></p>
<p>Key insights include: - Seasonal trends in colony losses, with some periods showing higher median losses or more variability. - Outliers indicate extreme loss events occurring in specific periods.</p>
<p>This seasonal analysis suggests that certain times of the year are more prone to higher losses, potentially due to environmental factors, resource availability, or management practices.</p>
</section>
<section id="overall-analysis" class="level3" data-number="3.3.5">
<h3 data-number="3.3.5" class="anchored" data-anchor-id="overall-analysis"><span class="header-section-number">3.3.5</span> Overall Analysis</h3>
<ul>
<li>The composition of honey indicates its high sugar content, essential for energy but also highlighting the presence of beneficial components like enzymes and vitamins.</li>
<li>The spread of Varroa mites map highlights the widespread and growing impact of these pests over time, emphasizing the need for ongoing management and control efforts.</li>
<li>The boxplots and scatterplots provide a detailed view of the variability and trends in colony losses due to different factors, both over time and across different regions. These plots suggest that while losses are a consistent issue, their magnitude and causes can vary widely, pointing to the need for tailored strategies to address colony health.</li>
</ul>
<p>These visualizations collectively provide a comprehensive overview of the challenges faced by bee colonies, from composition and health to external threats like Varroa mites and seasonal variations in losses.</p>
</section>
<section id="varroa-mite-exposed" class="level3" data-number="3.3.6">
<h3 data-number="3.3.6" class="anchored" data-anchor-id="varroa-mite-exposed"><span class="header-section-number">3.3.6</span> <strong>VARROA MITE EXPOSED</strong></h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../../..\images/_20220406_on_varroadestructor_minden_00463080.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="varroa-mite" class="level3" data-number="3.3.7">
<h3 data-number="3.3.7" class="anchored" data-anchor-id="varroa-mite"><span class="header-section-number">3.3.7</span> <strong>VARROA MITE</strong></h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../../..\images/Varrpa 1.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" width="527"></p>
</figure>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Descriptive Statistics:"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>    state            varroa_mites    other_pests       disease      
 Length:11          Min.   : 8.00   Min.   : 1.70   Min.   : 0.100  
 Class :character   1st Qu.:13.45   1st Qu.: 3.20   1st Qu.: 0.750  
 Mode  :character   Median :26.80   Median : 6.40   Median : 1.000  
                    Mean   :32.41   Mean   :11.55   Mean   : 6.718  
                    3rd Qu.:48.85   3rd Qu.:11.85   3rd Qu.: 4.600  
                    Max.   :67.20   Max.   :42.30   Max.   :47.800  
   pesticides        other          unknown      
 Min.   : 0.50   Min.   : 0.50   Min.   : 1.100  
 1st Qu.: 1.70   1st Qu.: 1.05   1st Qu.: 2.900  
 Median : 5.70   Median : 3.40   Median : 4.400  
 Mean   :10.34   Mean   :10.51   Mean   : 8.718  
 3rd Qu.:11.30   3rd Qu.:11.35   3rd Qu.: 8.100  
 Max.   :49.20   Max.   :48.10   Max.   :46.800  </code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   11 obs. of  7 variables:
 $ state       : chr  "Kansas" "Kentucky" "Michigan" "Mississippi" ...
 $ varroa_mites: num  35.5 8 16.5 12.6 13.1 26.8 65.3 13.8 46.8 67.2 ...
 $ other_pests : num  2 2.9 1.7 3.5 6.4 3.9 33.5 7.2 42.3 9.8 ...
 $ disease     : num  0.1 1 1.8 1 0.8 0.6 0.7 2.7 10.9 47.8 ...
 $ pesticides  : num  21.7 1.3 2.1 3.2 0.5 0.5 5.7 6.9 12.1 49.2 ...
 $ other       : num  3.4 0.5 3.3 9.1 4.8 0.6 1 1.1 30.1 48.1 ...
 $ unknown     : num  2 5.6 10.3 2.4 3.4 3.7 4.4 1.1 10.2 46.8 ...
 - attr(*, "na.action")= 'omit' Named int [1:36] 1 4 5 6 7 9 10 13 15 16 ...
  ..- attr(*, "names")= chr [1:36] "1" "4" "5" "6" ...</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="manuscript_final-2_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   11 obs. of  7 variables:
 $ state       : chr  "Kansas" "Kentucky" "Michigan" "Mississippi" ...
 $ varroa_mites: num  35.5 8 16.5 12.6 13.1 26.8 65.3 13.8 46.8 67.2 ...
 $ other_pests : num  2 2.9 1.7 3.5 6.4 3.9 33.5 7.2 42.3 9.8 ...
 $ disease     : num  0.1 1 1.8 1 0.8 0.6 0.7 2.7 10.9 47.8 ...
 $ pesticides  : num  21.7 1.3 2.1 3.2 0.5 0.5 5.7 6.9 12.1 49.2 ...
 $ other       : num  3.4 0.5 3.3 9.1 4.8 0.6 1 1.1 30.1 48.1 ...
 $ unknown     : num  2 5.6 10.3 2.4 3.4 3.7 4.4 1.1 10.2 46.8 ...
 - attr(*, "na.action")= 'omit' Named int [1:36] 1 4 5 6 7 9 10 13 15 16 ...
  ..- attr(*, "names")= chr [1:36] "1" "4" "5" "6" ...</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="manuscript_final-2_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="manuscript_final-2_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="manuscript_final-2_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Correlation Matrix:"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>             varroa_mites other_pests   disease pesticides     other    unknown
varroa_mites    1.0000000  0.62115999 0.5907042 0.65228365 0.6085037 0.55340334
other_pests     0.6211600  1.00000000 0.1180091 0.06810399 0.3449221 0.05806591
disease         0.5907042  0.11800909 1.0000000 0.90369098 0.9194785 0.97833233
pesticides      0.6522836  0.06810399 0.9036910 1.00000000 0.8235853 0.86362322
other           0.6085037  0.34492207 0.9194785 0.82358532 1.0000000 0.86993151
unknown         0.5534033  0.05806591 0.9783323 0.86362322 0.8699315 1.00000000</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Assumption Checks:"</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Shapiro-Wilk Test for Normality:"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>$varroa_mites

    Shapiro-Wilk normality test

data:  column
W = 0.87839, p-value = 0.09925


$other_pests

    Shapiro-Wilk normality test

data:  column
W = 0.72499, p-value = 0.0009831


$disease

    Shapiro-Wilk normality test

data:  column
W = 0.51395, p-value = 2.235e-06


$pesticides

    Shapiro-Wilk normality test

data:  column
W = 0.70512, p-value = 0.0005444


$other

    Shapiro-Wilk normality test

data:  column
W = 0.70797, p-value = 0.0005924


$unknown

    Shapiro-Wilk normality test

data:  column
W = 0.55542, p-value = 7.156e-06</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Levene's Test for Homogeneity of Variances:"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Levene's Test for Homogeneity of Variance (center = median)
      Df F value Pr(&gt;F)
group 10     NaN    NaN
       0               </code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="manuscript_final-2_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Importance of components:
                          PC1    PC2    PC3     PC4     PC5     PC6
Standard deviation     2.0647 1.1246 0.5666 0.34369 0.15432 0.09672
Proportion of Variance 0.7105 0.2108 0.0535 0.01969 0.00397 0.00156
Cumulative Proportion  0.7105 0.9213 0.9748 0.99447 0.99844 1.00000</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="manuscript_final-2_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   11 obs. of  7 variables:
 $ state       : chr  "Kansas" "Kentucky" "Michigan" "Mississippi" ...
 $ varroa_mites: num  35.5 8 16.5 12.6 13.1 26.8 65.3 13.8 46.8 67.2 ...
 $ other_pests : num  2 2.9 1.7 3.5 6.4 3.9 33.5 7.2 42.3 9.8 ...
 $ disease     : num  0.1 1 1.8 1 0.8 0.6 0.7 2.7 10.9 47.8 ...
 $ pesticides  : num  21.7 1.3 2.1 3.2 0.5 0.5 5.7 6.9 12.1 49.2 ...
 $ other       : num  3.4 0.5 3.3 9.1 4.8 0.6 1 1.1 30.1 48.1 ...
 $ unknown     : num  2 5.6 10.3 2.4 3.4 3.7 4.4 1.1 10.2 46.8 ...
 - attr(*, "na.action")= 'omit' Named int [1:36] 1 4 5 6 7 9 10 13 15 16 ...
  ..- attr(*, "names")= chr [1:36] "1" "4" "5" "6" ...</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
svm(formula = varroa_mites ~ other_pests + disease + pesticides + 
    other + unknown, data = data_clean)


Parameters:
   SVM-Type:  eps-regression 
 SVM-Kernel:  radial 
       cost:  1 
      gamma:  0.2 
    epsilon:  0.1 


Number of Support Vectors:  10</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="manuscript_final-2_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="honey-bee-collecting-pollen" class="level3" data-number="3.3.8">
<h3 data-number="3.3.8" class="anchored" data-anchor-id="honey-bee-collecting-pollen"><span class="header-section-number">3.3.8</span> <strong>Honey Bee Collecting Pollen</strong></h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../../..\images/Bee Feeding.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" width="313"></p>
</figure>
</div>
</section>
<section id="honey-bee-with-exposed-bloated-varroa-mite" class="level3" data-number="3.3.9">
<h3 data-number="3.3.9" class="anchored" data-anchor-id="honey-bee-with-exposed-bloated-varroa-mite"><span class="header-section-number">3.3.9</span> Honey Bee with exposed bloated Varroa Mite</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/varroa-mite-bee.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
</section>
<section id="full-analysis" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="full-analysis"><span class="header-section-number">3.4</span> Full analysis</h2>
<p>##The full analysis is still pending###</p>
<div style="page-break-after: always;"></div>
</section>
</section>
<section id="references" class="level1" data-number="4">




</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">4 References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-hivecollapse" class="csl-entry" role="listitem">
Dennis, B., &amp; Kemp, W. P. (2016). How hives collapse: Allee effects, ecological resilience, and the honey bee. <em>PLOS ONE</em>, <em>11</em>(2), e0150055. <a href="https://doi.org/10.1371/journal.pone.0150055">https://doi.org/10.1371/journal.pone.0150055</a>
</div>
<div id="ref-2024warmer" class="csl-entry" role="listitem">
Rajagopalan, K., DeGrandi-Hoffman, G., Pruett, M., et al. (2024). Warmer autumns and winters could reduce honey bee overwintering survival with potential risks for pollination services. <em>Scientific Reports</em>, <em>14</em>, 5410. <a href="https://doi.org/10.1038/s41598-024-55327-8">https://doi.org/10.1038/s41598-024-55327-8</a>
</div>
<div id="ref-varroamap" class="csl-entry" role="listitem">
sdns6mchl4. (2016). <em>Varroa mite spread in the united states</em>. Retrieved from <a href="https://www.beesource.com/threads/varroa-mite-spread-in-the-united-states.365462/">https://www.beesource.com/threads/varroa-mite-spread-in-the-united-states.365462/</a>
</div>
<div id="ref-epa_climate" class="csl-entry" role="listitem">
U.S. Environmental Protection Agency. (2024). <em>Climate change indicators: U.s. And global temperature</em>. <a href="https://www.epa.gov/climate-indicators/climate-change-indicators-us-and-global-temperature" class="uri">https://www.epa.gov/climate-indicators/climate-change-indicators-us-and-global-temperature</a>.
</div>
<div id="ref-usda_nass" class="csl-entry" role="listitem">
USDA - National Agricultural Statistics Service. (n.d.). <em>Surveys - honey bee surveys and reports</em>. Retrieved from <a href="https://www.nass.usda.gov/Surveys/Guide_to_NASS_Surveys/Bee_and_Honey/">https://www.nass.usda.gov/Surveys/Guide_to_NASS_Surveys/Bee_and_Honey/</a>
</div>
<div id="ref-usda_honey_bees" class="csl-entry" role="listitem">
USDA Economics, Statistics and Market Information System. (n.d.-a). <em>Index catalog</em>. Retrieved from <a href="https://usda.library.cornell.edu/catalog?f%5Bkeywords_sim%5D%5B%5D=honey+bees&amp;locale=en">https://usda.library.cornell.edu/catalog?f%5Bkeywords_sim%5D%5B%5D=honey+bees&amp;locale=en</a>
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>